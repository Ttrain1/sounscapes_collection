<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8">
   <link rel="stylesheet" type="text/css" href="/css/style.css">
   <title>Soundscapes</title>
</head>
<h1>Pan-Ultimate Sounscapes</h1>
<body>
    <div id="app">
        
    <header>
        
    </header>

   <noscript><p>You have a JS error</p></noscript>
	<button id="button1">Get User</button>
  <button id="button2">Get Users</button>
  <br><br>
  <h1>User</h1>  
  <div id="artist"></div>
  <h1>Users</h1>  
  <div id="artists"></div>
     
   </div>
	  <script>
    document.getElementById('button1').addEventListener('click', loadUser);
    document.getElementById('button2').addEventListener('click', loadArtist);

    function loadUser(){
      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'api/artists', true);

      xhr.onload = function(){
        if(this.status == 200){
          var user = JSON.parse(this.responseText);
          
          var output = '';

          output += '<ul>' +
            '<li>ID: '+user.artistHometown+'</li>' +
            '<li>Name: '+user.artistName+'</li>' +
            '</ul>';
            console.log(user)

          document.getElementById('artist').innerHTML = output;
        }
      }

      xhr.send();
    }

    function loadArtist(){
      var xhr = new XMLHttpRequest();
      xhr.open('GET', 'api/artists', true);

      xhr.onload = function(){
        if(this.status == 200){
          var user = JSON.parse(this.responseText);
          
          var output = '';
          
          for(var i in user){
            output += '<ul>' +
              '<li>ID: '+user[i].artistHometown+'</li>' +
              '<li>Name: '+user[i].artistName+'</li>' +
              '</ul>';
          }

          document.getElementById('artists').innerHTML = output;
        }
      }

      xhr.send();
    }
  </script>
</body>

</html>